<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Instalasi Lokal Minishift OKD - Anwar's Blog</title><meta name=Description content="Instalasi Minishift untuk menjalankan cluster node OKD (OpenShift) di komputer lokal."><meta property="og:title" content="Instalasi Lokal Minishift OKD"><meta property="og:description" content="Instalasi Minishift untuk menjalankan cluster node OKD (OpenShift) di komputer lokal."><meta property="og:type" content="article"><meta property="og:url" content="https://init.web.id/instalasi-lokal-minishift-okd/"><meta property="og:image" content="https://init.web.id/instalasi-lokal-minishift-okd/cover.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-05T09:57:09+07:00"><meta property="article:modified_time" content="2021-01-05T14:45:09+07:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://init.web.id/instalasi-lokal-minishift-okd/cover.png"><meta name=twitter:title content="Instalasi Lokal Minishift OKD"><meta name=twitter:description content="Instalasi Minishift untuk menjalankan cluster node OKD (OpenShift) di komputer lokal."><meta name=application-name content="Anwar's Blog"><meta name=apple-mobile-web-app-title content="Anwar's Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://init.web.id/instalasi-lokal-minishift-okd/><link rel=prev href=https://init.web.id/custom-apex-domain-untuk-github-pages/><link rel=next href=https://init.web.id/quick-install-okd-4-di-aws/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Instalasi Lokal Minishift OKD","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/init.web.id\/instalasi-lokal-minishift-okd\/"},"image":[{"@type":"ImageObject","url":"https:\/\/init.web.id\/instalasi-lokal-minishift-okd\/cover.png","width":1e3,"height":420}],"genre":"posts","keywords":"OpenShift, OKD, Minishift, PaaS","wordcount":1071,"url":"https:\/\/init.web.id\/instalasi-lokal-minishift-okd\/","datePublished":"2021-01-05T09:57:09+07:00","dateModified":"2021-01-05T14:45:09+07:00","license":"\u003ca href=\"https://creativecommons.org/licenses/by-nc/4.0/\" target=\"_blank\" rel=\"noopener\"\u003eCC BY-NC 4.0\u003c/a\u003e","publisher":{"@type":"Organization","name":"anwareset","logo":"https:\/\/github.com\/anwareset.png"},"author":{"@type":"Person","name":"anwareset"},"description":"Instalasi Minishift untuk menjalankan cluster node OKD (OpenShift) di komputer lokal."}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"dark"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Anwar's Blog"><span class=header-title-pre><i class='fas fa-hashtag'></i>&nbsp</span><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Anwar's Blog"><span class=header-title-pre><i class='fas fa-hashtag'></i>&nbsp</span><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Instalasi Lokal Minishift OKD</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://init.web.id/about title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>anwareset</a></span>&nbsp;<span class=post-category>included in <a href=/categories/platform/><i class="far fa-folder fa-fw"></i>Platform</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-01-05>2021-01-05</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1071 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;6 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/instalasi-lokal-minishift-okd/cover.png data-srcset="/instalasi-lokal-minishift-okd/cover.png, /instalasi-lokal-minishift-okd/cover.png 1.5x, /instalasi-lokal-minishift-okd/cover.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/cover.png title="Instalasi Minishift untuk menjalankan cluster node OKD (OpenShift) di komputer lokal."></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#openshift-dan-okd>OpenShift dan OKD</a><ul><li><a href=#katalog-okd>Katalog OKD</a></li><li><a href=#minishift>Minishift</a></li></ul></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#mempersiapkan-environment-virtualiasi>Mempersiapkan Environment Virtualiasi</a><ul><li><a href=#konfigurasi-libvirt>Konfigurasi libvirt</a></li></ul></li><li><a href=#memasang-minishift>Memasang Minishift</a></li><li><a href=#menjalankan-okd-dengan-minishift>Menjalankan OKD dengan Minishift</a><ul><li><a href=#pengujian-minishift>Pengujian Minishift</a></li><li><a href=#ssh-remote-access>SSH Remote Access</a></li><li><a href=#menghentikan-minishift>Menghentikan Minishift</a></li><li><a href=#menghapus-resource-minishift>Menghapus Resource Minishift</a></li></ul></li><li><a href=#pengujian>Pengujian</a><ul><li><a href=#web-console>Web Console</a></li><li><a href=#command-line>Command Line</a></li></ul></li><li><a href=#kesimpulan>Kesimpulan</a></li><li><a href=#referensi>Referensi</a></li></ul></nav></div></div><div class=content id=content><p>Minishift membangun klaster <em>single-node</em> OKD (Openshift) pada VM (Virtual Machine) yang berdiri di atas Hypervisor milik komputer lokal. Dengan Minishift kita dapat mempelajari OKD dalam komputer sendiri sebelum menggunakan teknologi Openshift di lingkungan <em>production</em> sebenarnya.</p><h2 id=openshift-dan-okd>OpenShift dan OKD</h2><p><strong>OpenShift</strong> adalah distribusi dari <strong>Kubernetes</strong> yang memiliki fungsi serupa, namun memiliki beberapa fitur tambahan yang memanjakan. Seiring dengan populernya ide <em>cloud computing</em>, berbagai evolusi komputasi telah terjadi. Misalnya adalah metode dalam mengembangkan dan <em>delivery</em> aplikasi untuk sampai ke hadapan <em>user</em>. Seringkali aplikasi/<em>product</em> digital akan dikemas dalam bentuk <em>container</em> untuk alasan kompabilitas, skalabilitas, keamanan, hingga kecepatan pengembangan. Kubernetes awalnya diinisialisasi oleh Google dan kini dikembangkan oleh <a href=https://www.cncf.io/ target=_blank rel="noopener noreffer">CNCF</a>, sedangkan OpenShift dinaungi oleh <a href=https://www.openshift.com/ target=_blank rel="noopener noreffer">Red Hat</a> menawarkan kemampuan manajemen <em>workloads</em> aplikasi serta otomatisasi secara deklaratif. OpenShift merupakan <em>paid-product</em>, namun kita juga dapat menggunakan versi <em>free of charge</em> bernama <strong>OKD</strong> sebagai alternatif. OKD pernah bernama <strong>OpenShift Origin</strong> sebelum mengalami pergantian julukan. Saat artikel ini diterbitkan, OKD telah berkembang menjadi beberapa macam produk, beberapa diantaranya yaitu <strong>Self-Managed</strong> (seperti <strong>OpenShift Container Platform</strong>), hingga <strong>Managed</strong> (seperti <strong>Openshift Online</strong> dan <strong>Openshift Dedicated</strong>).</p><p><figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/red-hat-openshift.png title="OpenShift by Red Hat" data-thumbnail=/instalasi-lokal-minishift-okd/red-hat-openshift.png data-sub-html="<h2>OpenShift by Red Hat</h2><p>OpenShift by Red Hat</p>"><img class=lazyload src=/svg/loading.min.svg data-src=red-hat-openshift.png data-srcset="/instalasi-lokal-minishift-okd/red-hat-openshift.png, red-hat-openshift.png 1.5x, /instalasi-lokal-minishift-okd/red-hat-openshift.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/red-hat-openshift.png></a><figcaption class=image-caption>OpenShift by Red Hat</figcaption></figure></p><h3 id=katalog-okd>Katalog OKD</h3><p>OKD 3 <em>by-default</em> telah menyediakan dukungan bagi aplikasi dengan beberapa bahasa pemrograman. OKD 3 memiliki <em>kickstart template</em> seperti berikut :</p><ul><li><strong>Rails</strong> untuk Ruby</li><li><strong>Django</strong> untuk Python</li><li><strong>Node.js</strong></li><li><strong>CakePHP</strong> untuk PHP</li><li><strong>Dancer</strong> untuk Perl</li><li><strong>Maven</strong> untuk Java</li></ul><p>Sedangkan untuk basis data, OKD 3 juga telah menyediakan beberapa diantaranya :</p><ul><li><strong>MySQL</strong></li><li><strong>MongoDB</strong></li><li><strong>PosgreSQL</strong></li></ul><p>Tidak hanya itu saja, OKD 3 juga telah menawarkan fitur <em>CI/CD Pipeline</em> yang siap di-integrasikan dengan <strong>Jenkins</strong>, sebuah Middleware <strong>Apache</strong>, hingga <em>Reverse-proxy</em> <strong>NGINX</strong>.</p><h3 id=minishift>Minishift</h3><p><strong>Minishift</strong> adalah sebuah <em>tool</em> yang membantu kita untuk menjalankan OpenShift di komputer lokal. Jika bermain dengan Kubernetes, biasanya kita akan menjumpai <em>tool</em> serupa bernama <strong>Minikube</strong>. Minishift akan membuat dan menjalankan sebuah VM di atas <strong>Hypervisor</strong> yang tersedia di komputer kita. Saat artikel ini diterbitkan, Minishift hanya mendukung hingga OKD versi 3.11 atau OpenShift 3.</p><p><figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/arsitektur-minishift.png title="Arsitektur Minishift" data-thumbnail=/instalasi-lokal-minishift-okd/arsitektur-minishift.png data-sub-html="<h2>Arsitektur Minishift</h2><p>Arsitektur Minishift</p>"><img class=lazyload src=/svg/loading.min.svg data-src=arsitektur-minishift.png data-srcset="/instalasi-lokal-minishift-okd/arsitektur-minishift.png, arsitektur-minishift.png 1.5x, /instalasi-lokal-minishift-okd/arsitektur-minishift.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/arsitektur-minishift.png></a><figcaption class=image-caption>Arsitektur Minishift</figcaption></figure></p><hr><h2 id=prerequisites>Prerequisites</h2><p>Pastikan bahwa komputer lokal kita memiliki spesifikasi yang cukup untuk memasang OKD/OpenShift. Secara <em>default</em> Minishift akan membuat sebuah VM dengan spesifikasi seperti berikut.</p><table><thead><tr><th style=text-align:center>Resources</th><th style=text-align:center>Value</th></tr></thead><tbody><tr><td style=text-align:center>CPUs</td><td style=text-align:center>2 core</td></tr><tr><td style=text-align:center>Memory</td><td style=text-align:center>4 GB</td></tr><tr><td style=text-align:center>Storage</td><td style=text-align:center>20 GB</td></tr></tbody></table><hr><h2 id=mempersiapkan-environment-virtualiasi>Mempersiapkan Environment Virtualiasi</h2><p>Minishift mendukung beberapa <strong>Hypervisor</strong> untuk membuat dan menjalankan VM. Beberapa diantaranya adalah sebagai berikut.</p><table><thead><tr><th style=text-align:center>Sistem Operasi</th><th style=text-align:center>Hypervisor</th></tr></thead><tbody><tr><td style=text-align:center>Microsoft Windows</td><td style=text-align:center>Hyper-V</td></tr><tr><td style=text-align:center>GNU/Linux</td><td style=text-align:center>KVM</td></tr><tr><td style=text-align:center>MacOS</td><td style=text-align:center>hyperkit</td></tr><tr><td style=text-align:center>All Platform</td><td style=text-align:center>VirtualBox</td></tr></tbody></table><p>Karena saya menggunakan GNU/Linux, maka dalam artikel ini kita akan menggunakan KVM sebagai <em>environment</em> virtualiasi Minishift. Atau lebih tepatnya, saya menggunakan distro GNU/Linux Arch-based.</p><h3 id=konfigurasi-libvirt>Konfigurasi libvirt</h3><h4>1. Pasang paket-paket yang dibutuhkan untuk virtualisasi</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo pacman -Sy virt-manager kvm libvirt-runit qemu qemu-guest-agent-runit ebtables bridge-utils
</span></span></code></pre></td></tr></table></div></div><h4>2. Tambahkan user ke dalam grup <b>kvm</b> dan <b>libvirt</b></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo usermod -aG kvm,libvirt <span class=k>$(</span>whoami<span class=k>)</span>
</span></span><span class=line><span class=cl>$ newgrp libvirt
</span></span><span class=line><span class=cl>$ id
</span></span></code></pre></td></tr></table></div></div><p>Jika sudah benar, seharusnya akan keluar output seperti berikut<figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/group.png title=Group data-thumbnail=/instalasi-lokal-minishift-okd/group.png data-sub-html="<h2>Group</h2><p>Group</p>"><img class=lazyload src=/svg/loading.min.svg data-src=group.png data-srcset="/instalasi-lokal-minishift-okd/group.png, group.png 1.5x, /instalasi-lokal-minishift-okd/group.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/group.png></a><figcaption class=image-caption>Group</figcaption></figure></p><h4>3. Merubah konfigurasi qemu</h4><p>Ganti konfigurasi <code>/etc/libvirt/qemu.conf</code> agar menggunakan group <code>kvm</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo sed -ri <span class=s1>&#39;s/.?group\s?=\s?&#34;.+&#34;/group = &#34;kvm&#34;/1&#39;</span> /etc/libvirt/qemu.conf
</span></span></code></pre></td></tr></table></div></div><h4>4. Menjalankan service libvirt</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo ln -s /etc/runit/sv/libvirtd /run/runit/service
</span></span><span class=line><span class=cl>$ sudo ln -s /etc/runit/sv/virtlockd /run/runit/service
</span></span><span class=line><span class=cl>$ sudo ln -s /etc/runit/sv/virtlogd /run/runit/service
</span></span></code></pre></td></tr></table></div></div><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw"></i>Perhatian<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>Saya menggunakan <code>runit</code> sebagai sistem init di komputer lokal. Jika memakai <code>systemd</code> maka silahkan menggunakan perintah <code>systemctl</code> untuk mengelola service.</div></div></div><h4>5. Menjalankan jaringan libvirt</h4><p>Periksa status jaringan yang tersedia saat ini.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo virsh net-list --all
</span></span></code></pre></td></tr></table></div></div><p>Maka akan muncul output seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=na>Name                 State      Autostart     Persistent</span>
</span></span><span class=line><span class=cl><span class=na>---------------------------------------------------------</span>
</span></span><span class=line><span class=cl><span class=na>default              inactive     no           yes</span>
</span></span></code></pre></td></tr></table></div></div><p>Artinya kita memiliki sebuah jaringan bernama <strong>default</strong>. Maka aktifkan dan buat supaya jaringan tersebut berjalan secara otomatis dengan perintah seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo virsh net-start default
</span></span><span class=line><span class=cl>$ sudo virsh net-autostart default
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=memasang-minishift>Memasang Minishift</h2><p>Pasang paket-paket yang dibutuhkan.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ yay -Sy minishift docker-machine-kvm origin-client
</span></span></code></pre></td></tr></table></div></div><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw"></i>Info<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>Pada distro Arch-based, <code>minishift</code> dan beberapa paket pendukung lainnya telah tersedia pada <strong>AUR</strong> (Arch User Repository). Untuk melakukan instalasi paket dari AUR, saya menggunakan <em>AUR Helper</em> bernama <code>yay</code>.</div></div></div><hr><h2 id=menjalankan-okd-dengan-minishift>Menjalankan OKD dengan Minishift</h2><p>Jalankan perintah seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift start
</span></span></code></pre></td></tr></table></div></div><p>Atau kita dapat memberikan <em>flags</em> ketika menjalankan minishift untuk membuat VM dengan spesifikasi yang kita butuhkan. Misalnya saya ingin Minishift membuat VM dengan memory sebesar 3 GB, CPU sebanyak 1 core, dan Storage sebesar 8 GB saja. Jalankan perintah seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift start --disk-size 8g --memory <span class=m>3072</span> --cpus <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><p>Jika berhasil maka akan muncul output seperti berikut.<figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/okd-running.png title="OKD Berjalan" data-thumbnail=/instalasi-lokal-minishift-okd/okd-running.png data-sub-html="<h2>OKD Berjalan</h2><p>OKD Berjalan</p>"><img class=lazyload src=/svg/loading.min.svg data-src=okd-running.png data-srcset="/instalasi-lokal-minishift-okd/okd-running.png, okd-running.png 1.5x, /instalasi-lokal-minishift-okd/okd-running.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/okd-running.png></a><figcaption class=image-caption>OKD Berjalan</figcaption></figure></p><h3 id=pengujian-minishift>Pengujian Minishift</h3><p>Periksa apakah VM benar-benar berhasil dibuat.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ sudo virsh list
</span></span></code></pre></td></tr></table></div></div><p>Akan muncul output seperti berikut jika benar.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=na>Id   Name        State</span>
</span></span><span class=line><span class=cl><span class=na>---------------------------</span>
</span></span><span class=line><span class=cl> <span class=na>4    minishift   running</span>
</span></span></code></pre></td></tr></table></div></div><p>Memeriksa status Minishift dengan perintah berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift status
</span></span></code></pre></td></tr></table></div></div><p>Jika OKD berjalan maka kurang lebih akan muncul output seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=na>Minishift:  Running</span>
</span></span><span class=line><span class=cl><span class=na>Profile:    minishift</span>
</span></span><span class=line><span class=cl><span class=na>OpenShift:  Running (openshift v3.11.0+1cd89d4-542)</span>
</span></span><span class=line><span class=cl><span class=na>DiskUsage:  43% of 6.9G (Mounted On: /mnt/sda1)</span>
</span></span><span class=line><span class=cl><span class=na>CacheUsage: 1.707 GB (used by oc binary, ISO or cached images)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ssh-remote-access>SSH Remote Access</h3><p>Untuk mencoba mengakses VM Minishift melalui SSH kita dapat menjalankan perintah berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift ssh
</span></span></code></pre></td></tr></table></div></div><p><figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/minishift-remote-access.png title="Remote Access Minishift" data-thumbnail=/instalasi-lokal-minishift-okd/minishift-remote-access.png data-sub-html="<h2>Remote Access Minishift</h2><p>Remote Access Minishift</p>"><img class=lazyload src=/svg/loading.min.svg data-src=minishift-remote-access.png data-srcset="/instalasi-lokal-minishift-okd/minishift-remote-access.png, minishift-remote-access.png 1.5x, /instalasi-lokal-minishift-okd/minishift-remote-access.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/minishift-remote-access.png></a><figcaption class=image-caption>Remote Access Minishift</figcaption></figure></p><h3 id=menghentikan-minishift>Menghentikan Minishift</h3><p>Untuk menghentikan Minishift kita dapat menjalankan perintah berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift stop
</span></span></code></pre></td></tr></table></div></div><h3 id=menghapus-resource-minishift>Menghapus Resource Minishift</h3><p>Jika ingin menghapus seluruh <em>resource</em> termasuk VM yang telah dibuat, kita dapat menjalankan perintah berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ minishift delete --force
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=pengujian>Pengujian</h2><h3 id=web-console>Web Console</h3><p>Seperti yang telah kita lihat <a href=#ssh-remote-access rel>sebelumnya</a>. Bahwa <em>web console</em> telah dijalankan pada alamat <a href=https://192.168.42.192:8443/console target=_blank rel="noopener noreffer">https://192.168.42.192:8443/console</a>. Sekarang buka alamat tersebut menggunakan web browser untuk memeriksa apakah <em>web console</em> benar-benar berjalan.<figure><a class=lightgallery href=/instalasi-lokal-minishift-okd/web-console-okd.png title="Web Console OKD" data-thumbnail=/instalasi-lokal-minishift-okd/web-console-okd.png data-sub-html="<h2>Web Console OKD</h2><p>Web Console OKD</p>"><img class=lazyload src=/svg/loading.min.svg data-src=web-console-okd.png data-srcset="/instalasi-lokal-minishift-okd/web-console-okd.png, web-console-okd.png 1.5x, /instalasi-lokal-minishift-okd/web-console-okd.png 2x" data-sizes=auto alt=/instalasi-lokal-minishift-okd/web-console-okd.png></a><figcaption class=image-caption>Web Console OKD</figcaption></figure></p><h3 id=command-line>Command Line</h3><p><strong>origin client</strong> atau <strong><code>oc</code></strong> adalah program berbasis teks yang digunakan untuk mengelola OKD (OpenShift) lewat terminal. Kita dapat melihat status OKD dengan perintah seperti berikut</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ oc status
</span></span></code></pre></td></tr></table></div></div><p>Karena masih kosong, dan OKD belum kita perintah untuk menjalankan layanan apapun maka akan muncul output seperti berikut.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cfg data-lang=cfg><span class=line><span class=cl><span class=na>In project My Project (myproject) on server https://192.168.42.156:8443</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=na>You have no services, deployment configs, or build configs.</span>
</span></span><span class=line><span class=cl><span class=na>Run &#39;oc new-app&#39; to create an application.</span>
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=kesimpulan>Kesimpulan</h2><p>Jika dibandingkan dengan Minikube, maka seharusnya Minishift bisa dikatakan memiliki fungsi yang serupa. Sayangnya saat artikel ini dibuat Minishift hanya dapat digunakan untuk membangun OKD 3 (OpenShift 3), sedangkan untuk membangun OpenShift 4 di komputer lokal kita dapat menggunakan <em>tool</em> lain bernama <a href=https://developers.redhat.com/products/codeready-containers/overview target=_blank rel="noopener noreffer"><strong>CodeReady</strong></a>. Sayangnya <a href=https://access.redhat.com/documentation/en-us/red_hat_codeready_containers/1.19/html/getting_started_guide/installation_gsg#minimum-system-requirements-hardware_gsg target=_blank rel="noopener noreffer"><strong>CodeReady membutuhkan spesifikasi komputer yang cukup besar</strong></a>. Setelah kita perhatikan, <em>By-default</em> OKD yang dibangun oleh Minishift berjalan pada VM CentOS 7 Core untuk melakukan instalasi <em>cluster</em>. OKD adalah versi <em>upstream</em> dari pengembangan <em>project</em> OpenShift, artinya tentu saja OpenShift lebih stabil dan layak digunakan jika dibandingkan dengan OKD. Namun untuk belajar <em>workflow</em> dari OpenShift, OKD bisa dibilang cukup mumpuni (tentunya dengan <em>effort</em> yang mungkin lebih besar).</p><hr><h2 id=referensi>Referensi</h2><ul><li><a href=https://wiki.archlinux.org/index.php/OpenShift target=_blank rel="noopener noreffer">wiki.archlinux.org/index.php/OpenShift</a></li><li><a href=https://wiki.archlinux.org/index.php/Libvirt target=_blank rel="noopener noreffer">wiki.archlinux.org/index.php/Libvirt</a></li><li><a href=https://www.okd.io/#v3 target=_blank rel="noopener noreffer">www.okd.io/#v3</a></li><li><a href=https://docs.okd.io/3.11/architecture/index.html target=_blank rel="noopener noreffer">docs.okd.io/3.11/architecture/index.html</a></li><li><a href=https://docs.okd.io/3.11/minishift/getting-started/ target=_blank rel="noopener noreffer">docs.okd.io/3.11/minishift/getting-started</a></li><li><a href=https://docs.okd.io/3.11/minishift/using/index.html target=_blank rel="noopener noreffer">docs.okd.io/3.11/minishift/using/index.html</a></li><li><a href=https://www.openshift.com/blog/oc-command-newbies target=_blank rel="noopener noreffer">www.openshift.com/blog/oc-command-newbies</a></li><li><a href=https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/ target=_blank rel="noopener noreffer">kubernetes.io/docs/concepts/overview/what-is-kubernetes</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-01-05</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/instalasi-lokal-minishift-okd/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/openshift/>OpenShift</a>,&nbsp;<a href=/tags/okd/>OKD</a>,&nbsp;<a href=/tags/minishift/>Minishift</a>,&nbsp;<a href=/tags/paas/>PaaS</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/custom-apex-domain-untuk-github-pages/ class=prev rel=prev title="Custom APEX Domain untuk Github Pages"><i class="fas fa-angle-left fa-fw"></i>Custom APEX Domain untuk Github Pages</a>
<a href=/quick-install-okd-4-di-aws/ class=next rel=next title="Quick Install OKD 4 di AWS">Quick Install OKD 4 di AWS<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=http://github.com/anwareset target=_blank>anwareset</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=https://anwars-blog.disqus.com/embed.js defer></script><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/typeit/typeit.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},data:{"id-1":"init\u0026nbsp","id-2":"init\u0026nbsp"},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"},typeit:{cursorChar:"\u0026nbsp _",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:-1,speed:75}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>